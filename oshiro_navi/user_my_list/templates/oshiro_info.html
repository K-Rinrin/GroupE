{% extends "user_base.html" %}
{% load static %}

{% block title %}{{ oshiro.oshiro_name }} - お城情報{% endblock %}

{% block content %}
<style>
    /* --- ベースコンテナ --- */
.oshiro-info-container {
    max-width: 800px;
    margin: 30px auto;
    background: #fff;
    border-radius: 15px;
    overflow: hidden;
    box-shadow: 0 4px 20px rgba(0,0,0,0.08);
}

.oshiro-table {
    width: 100%;
    border-collapse: collapse;
}

.oshiro-table th {
    width: 130px;
    text-align: left;
    vertical-align: top;
    color: #8b7d3a; /* 金茶色 */
    font-weight: bold;
    padding: 20px 0;
    border-bottom: 1px solid #f0f0f0;
}

.oshiro-table td {
    padding: 20px 0 20px 20px;
    color: #333;
    border-bottom: 1px solid #f0f0f0;
    line-height: 1.6;
}

.back-nav {
    margin-top: 40px;
    text-align: center;
}

.btn-back {
    color: #999;
    text-decoration: none;
    font-size: 0.9em;
    border: 1px solid #eee;
    padding: 8px 20px;
    border-radius: 20px;
}

/* ====================================
    スマホ最適化（600px以下）
==================================== */
@media screen and (max-width: 600px) {
    .oshiro-info-container {
        margin: 0;
        width: 100%;
        border-radius: 0;
    }

    .info-content { padding: 20px 15px; }

    /* 表のパディングを詰める */
    .oshiro-table th {
        width: 80px;
        font-size: 0.85rem;
        padding: 15px 0;
    }
    .oshiro-table td {
        padding: 15px 0 15px 10px;
        font-size: 0.9rem;
    }
}
</style>
<div class="oshiro-info-container">
    
    <div class="oshiro-image-header">
        {% if oshiro.info.oshiro_images or oshiro.oshiro_images %}
            <img src="{% if oshiro.info.oshiro_images %}{{ oshiro.info.oshiro_images.url }}{% else %}{{ oshiro.oshiro_images.url }}{% endif %}" alt="{{ oshiro.oshiro_name }}">
        {% else %}
            <div class="no-image-msg">No Image Available</div>
        {% endif %}
        
        <div class="header-overlay">
            <h1>{{ oshiro.oshiro_name }}</h1>
        </div>
    </div>

    <div class="info-tabs">
        <a href="{% url 'usermy_list:oshiroinfo' oshiro.id %}" class="tab-item active">お城情報</a>
        <a href="{% url 'usermy_list:oshirobasicinfo' oshiro.id %}" class="tab-item">基本情報</a>
        <a href="{% url 'usermy_list:oshiroreview' oshiro.id %}" class="tab-item">口コミ</a>
        <a href="{% url 'usermy_list:oshiromap' oshiro.id %}" class="tab-item">周辺MAP</a>
    </div>

    <div class="info-content">
        <table class="oshiro-table">
            <tr>
                <th>住所</th>
                <td>{{ oshiro.address }}</td>
            </tr>
            <tr>
                <th>築城年</th>
                <td>{{ oshiro.built_year }}年</td>
            </tr>
            <tr>
                <th>遺構</th>
                <td>{{ oshiro.ruins|default:"なし" }}</td>
            </tr>
            <tr>
                <th>構造</th>
                <td>{{ oshiro.structure|linebreaksbr }}</td>
            </tr>
        </table>
    </div>
</div>
{% endblock %}